@model IEnumerable<Occasion>

@{
    ViewBag.Title = "Eventos";
}

<div class="container">
    <div class="row">
        <div class="col-md-8 col-md-offset-1">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Evento</th>
                        <th>Tema</th>
                    </tr>
                </thead>
                <tbody>

                    @{
                        var culture = new System.Globalization.CultureInfo("pt-BR");
                    }

                    @foreach (var occasion in Model)
                    {
                        <tr>
                            
                            <td>@occasion.Date.ToString("D", culture)</td>
                            <td>@occasion.EventType</td>
                            @switch (occasion.EventType)
                            {
                                case EventType.ESCOLA_DOMINICAL:
                                    <td>@((occasion as SundaySchool).Theme)</td>
                                    break;
                                case EventType.REUNIÃO:
                                    var reunion = occasion as Reunion;
                                    <td>@reunion.Topic</td>
                                    break;
                                case EventType.CULTO:
                                    <td>@((occasion as Cult).MainVerse)</td>
                                    break;
                                default:
                                    <td></td>
                                    break;
                            }
                            <td>

                                <div class="btn-group">
                                    <a asp-controller="event" asp-action="edit" asp-route-id="@occasion.Id"
                                       class="btn btn-primary">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Editar
                                    </a>
                                    <a asp-controller="event" asp-action="detail" asp-route-id="@occasion.Id"
                                       class="btn btn-secondary">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Detalhes
                                    </a>
                                </div>

                            </td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div>
            <h4>Gerenciar eventos</h4>
            <ul class="list-group">
                <li class="list-group-item">
                    <a asp-controller="event" asp-action="create" class="btn btn-primary">
                        <i class="glyphicon glyphicon-user"></i>
                        <span>Adicionar evento</span>
                    </a>
                </li>
                <li class="list-group-item">
                    <a asp-controller="event" asp-action="search" class="btn btn-primary">
                        <i class="glyphicon glyphicon-user"></i>
                        <span>Buscar evento</span>
                    </a>
                </li>
            </ul>
        </div>

    </div>

</div>